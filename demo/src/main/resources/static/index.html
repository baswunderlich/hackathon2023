<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="bootstrap-5.0.2-dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="jquery-3.6.2.js"></script>

    <title>Battery Broker</title>

    <style>
        .grid {
            display: grid;
            place-items: center;
        }
    </style>

    <script type="text/javascript">

        function myFunction() {
            var input_battery_id = document.getElementById("input").value
            console.log(input_battery_id)
            var url = "answer?pass=" + input_battery_id

            var xhttp = new XMLHttpRequest();
            xhttp.open("GET", url, true);
            xhttp.setRequestHeader("Content-type", "application/json");
            xhttp.send();
            var res = "800"

            var hersteller = "Hersteller: " + "PROFLEX"
            var wirkungsgrad = "Wirkungsgrad: " + "29"
            var capacity = "Kapazität: " + "10000"
            var chargeCycles = "Batterie Aufladungen: " + "5862"
            var yearInUnix = "31536000"
            var herstellDatum = "Herstelldatum: " + "2019-12-15"
            var str = "wir können deine Batterie nicht verwenden"
            if (res != -1) {
                str = "wir kaufen deine Batterie für " + res
            }

            document.getElementById('response').innerHTML = str
            document.getElementById('hersteller').innerHTML = hersteller
            document.getElementById('wirkungsgrad').innerHTML = wirkungsgrad
            document.getElementById('kapazität').innerHTML = capacity
            document.getElementById('chargeCycles').innerHTML = chargeCycles
            document.getElementById('herstellDatum').innerHTML = herstellDatum
        }
    </script>
</head>


<body>
    <div class="grid" style="margin-top: 15%;">
        <p>Bitte gib die BatteryPassID ein.</p>
        <input id="input" type="text" placeholder="BatteryPassID">
        <button id="button" style="margin-top: 10px;" onclick="myFunction()">Anfragen</button>
    </div>
    <div class="grid">
        <p id="response"></p>

        <div id="batteryPass" class="container" style="margin-top: 50px; margin-left: 43.5vw;">
            <p id="hersteller"></p>
            <p id="wirkungsgrad"></p>
            <p id="kapazität"></p>
            <p id="chargeCycles"></p>
            <p id="herstellDatum"></p>
        </div>
    </div>

</body>

</html>